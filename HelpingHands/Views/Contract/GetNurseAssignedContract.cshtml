@model List<CareContract>
@{
    ViewData["Title"] = "GetNurseAssignedContract";
    Layout = "~/Views/Shared/_LayoutNurse.cshtml";
}

@* https://codepen.io/Ajay-Kalal/full/LYXJPWy *@
<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Care Contracts</title>
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
   <link rel="stylesheet" href="~/css/contractstylesheet.css" />
</head>
<body>

    @if (Model != null && Model.Any())
    {
        @foreach (var contract in Model)
        {
            <div class="container invoice">
                <div class="invoice-header">
                    <div class="row">
                        <div class="col-xs-12 col-sm-8">
                            <h1>Care Contract</h1>
                            <h4 class="text-muted">Contract Date:  @contract.ContractDate.ToString("dd/MM/yyyy")</h4>
                        </div>                        
                    </div>
                </div>
                <div class="invoice-body">
                    <div class="row">

                        <div class="col-xs-12 col-sm-7">
                            <div class="panel panel-default">
                                <div class="panel-heading">
                                    <h3 class="panel-title">Contract Details</h3>
                                </div>
                                <div class="panel-body">
                                    <dl class="dl-horizontal">
                                        <dt>Fullname</dt>
                                        <dd>@contract.Fullname</dd>
                                        <dt>Gender</dt>
                                        <dd>@contract.Gender</dd>
                                        <dt>Start Date</dt>
                                        <dd>@contract.StartDate?.ToString("dd/MM/yyyy")</dd>
                                        <dt>Address Line</dt>
                                        <dd>@contract.AddressLine1</dd>
                                        <dt>Suburb Name</dt>
                                        <dd>@contract.SuburbName</dd>
                                        <dt>Status</dt>
                                        <dd>@contract.Status</dd>
                                        <dt>&nbsp;</dt>
                                        <dd>&nbsp;</dd>
                                    </dl>
                                </div>
                            </div>
                        </div>

                    </div>
                    <div class="panel panel-default">
                        <div class="panel-heading">
                            <h3 class="panel-title">Wound Description</h3>
                        </div>
                        
                    </div>
                   
                    <div class="row">
                        <div class="col-xs-12 col-sm-7">
                            <div class="panel panel-default">
                                <div class="panel-body">
                                    
                                    <hr style="margin:3px 0 5px" /> @contract.WoundDescription
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
                <div class="invoice-footer">
                    <div class="invoice-buttons">
                        <a class="btn btn-primary" asp-controller="CareVisit" asp-action="CreateCareVisit" asp-route-id="@contract.ContractId">Create Visit</a>
                        <a class="btn btn-secondary" asp-controller="CareVisit" asp-action="GetCareVisitByContract" asp-route-id="@contract.ContractId">View Visits</a>
                        @if(contract.Status == "Assigned")
                        {
                            <form method="post" asp-controller="Contract" asp-route-id="@contract.ContractId" asp-action="CloseContract">
                                <button class="btn btn-info" type="submit" >Close Contract</button>
                            </form>
                        }
                        else
                        {
                            <button class="btn btn-danger" type="submit" disabled>Closed</button>
                        }

                    </div>

                </div>
            </div>
        }

    }
    else
    {
        <h1>No contract records available</h1>
    }

  

  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
</body>
</html>
